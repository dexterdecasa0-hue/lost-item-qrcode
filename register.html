<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register Item - LOST&FOUND</title>
  <style>
    /* (same styling from your original file, unchanged) */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      background-attachment: fixed;
      margin: 0;
      padding: 0;
      color: #333;
      line-height: 1.6;
      animation: fadeIn 1s ease-in;
      min-height: 100vh;
      position: relative;
    }
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon points="50,10 90,90 10,90" fill="rgba(255,255,255,0.05)"/></svg>') repeat;
      animation: float 10s ease-in-out infinite;
      pointer-events: none;
    }
    @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
    @keyframes fadeIn { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);} }
    header {
      background: linear-gradient(135deg, #004080, #0066cc, #0080ff);
      color: white;
      padding: 40px 20px;
      text-align: center;
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
      position: relative;
    }
    header h1 { margin:0;font-size:2.5em;font-weight:bold;text-shadow:3px 3px 6px rgba(0,0,0,0.7);letter-spacing:3px;position:relative;z-index:1; }
    .nav { margin-top:20px;position:relative;z-index:1; }
    .nav a { color:white;text-decoration:none;margin:0 15px;font-size:18px;transition:0.3s; }
    .main-content { display:flex;max-width:1200px;margin:40px auto;gap:30px;padding:0 20px; }
    .container { flex:2;background:rgba(255,255,255,0.95);padding:40px;border-radius:15px;box-shadow:0 8px 16px rgba(0,0,0,0.2); }
    .sidebar { flex:1;background:rgba(255,255,255,0.9);padding:20px;border-radius:15px;box-shadow:0 4px 8px rgba(0,0,0,0.1); }
    form { display:flex;flex-direction:column;gap:20px; }
    input,textarea,select { padding:12px;border:1px solid #ccc;border-radius:8px;font-size:16px; }
    button { background:linear-gradient(135deg,#004080,#0066cc);color:white;padding:15px;border:none;border-radius:10px;cursor:pointer;font-size:18px; }
    #qrContainer { text-align:center;margin-top:30px;padding:20px;background:#f9f9f9;border-radius:10px;border:1px solid #ddd; }
    #emailNotice { color:green;font-weight:bold;text-align:center;margin-top:20px;padding:10px;background:rgba(0,255,0,0.1);border-radius:5px; }
    .modal { display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);justify-content:center;align-items:center;z-index:1000; }
    .modal-content { background:white;padding:30px;border-radius:15px;text-align:center;max-width:400px;width:90%; }
    footer { background:linear-gradient(135deg,#333,#555);color:white;padding:20px;text-align:center;margin-top:40px;border-top:2px solid #ccc; }
  </style>
</head>
<body>

<header>
  <h1>LOST&FOUND</h1>
  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="register.html">Register Item</a>
    <a href="item.html">View Found Items</a>
    <a href="admin-login.html">Admin</a>
  </nav>
</header>

<div class="main-content">
  <div class="container">
    <h1>Register Item</h1>

    <form id="registerForm">
      <label>Full Name</label>
      <input type="text" id="name" required>

      <label>Email</label>
      <input type="email" id="email" required>

      <label>Item Name</label>
      <input type="text" id="item" required>

      <label>Description</label>
      <textarea id="description" required></textarea>

      <label>Category</label>
      <select id="category" required>
        <option value="">Select Category</option>
        <option value="electronics">Electronics</option>
        <option value="clothing">Clothing</option>
        <option value="accessories">Accessories</option>
        <option value="documents">Documents</option>
        <option value="other">Other</option>
      </select>

      <label>Phone (Optional)</label>
      <input type="tel" id="phone">

      <button type="submit">Register Item</button>
    </form>

    <div id="qrContainer"></div>
    <p id="emailNotice"></p>
  </div>

  <div class="sidebar">
    <h3>Tips for Registration</h3>
    <ul>
      <li>Provide as much detail as possible for easy identification.</li>
      <li>Check your email for updates after registration.</li>
      <li>Your QR contains your contact details for finders.</li>
    </ul>
  </div>
</div>

<div id="successModal" class="modal">
  <div class="modal-content">
    <h2>Registration Successful!</h2>
    <p>Your item has been registered. The QR code contains your details.</p>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<footer>
  <p>&copy; 2025 LOST&FOUND System</p>
</footer>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAgDbyZ5koffA_M60oS9x6aaI_UyViLZVw",
  authDomain: "lost-item-qr.firebaseapp.com",
  databaseURL: "https://lost-item-qr-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "lost-item-qr",
  storageBucket: "lost-item-qr.appspot.com",
  messagingSenderId: "1026817510307",
  appId: "1:1026817510307:web:9a67340577a04797912816"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function generateQR(text) {
  const container = document.getElementById("qrContainer");
  container.innerHTML = "<h3>Your QR Code:</h3>";
  const canvas = document.createElement("canvas");
  container.appendChild(canvas);
  QRCode.toCanvas(canvas, text, { width: 180 });
}

function showModal() { document.getElementById("successModal").style.display = "flex"; }
function closeModal() { document.getElementById("successModal").style.display = "none"; }

document.getElementById("registerForm").addEventListener("submit", function(e){
  e.preventDefault();

  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const item = document.getElementById("item").value.trim();
  const description = document.getElementById("description").value.trim();
  const category = document.getElementById("category").value;
  const phone = document.getElementById("phone").value.trim();

  const id = Date.now().toString();

  const data = { id, name, email, item, description, category, phone, status:"Registered" };

  db.ref("lostItems/" + id).set(data).then(() => {

    const qrData =
`LOST ITEM REGISTRATION

Item ID: ${id}
Name: ${name}
Email: ${email}
Phone: ${phone}

Item: ${item}
Category: ${category}
Description: ${description}

Report Link:
https://dexterdecasa0-hue.github.io/lost-item-qrcode/report-manual.html?item=${id}
`;

    generateQR(qrData);

    document.getElementById("emailNotice").innerText = "ðŸ“§ Item registered! QR code generated.";
    showModal();
    document.getElementById("registerForm").reset();

  }).catch(err => alert("Error: " + err));
});
</script>

</body>
</html>
